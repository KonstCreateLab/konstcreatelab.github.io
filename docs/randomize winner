<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e6e6e6;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background-color: rgba(15, 52, 96, 0.7);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            color: #4cc9f0;
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            color: #b8b8d1;
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .social-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }
        
        .social-icon:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3);
        }
        
        .social-icon.active {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(76, 201, 240, 0.7);
        }
        
        .vk { background: linear-gradient(135deg, #4a76a8, #2a5885); }
        .telegram { background: linear-gradient(135deg, #2aabee, #229ed9); }
        .instagram { background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045); }
        .youtube { background: linear-gradient(135deg, #ff0000, #cc0000); }
        .facebook { background: linear-gradient(135deg, #3b5998, #2d4373); }
        .twitter { background: linear-gradient(135deg, #1da1f2, #0d8bd9); }
        .tiktok { background: linear-gradient(135deg, #000000, #25f4ee, #fe2c55); }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 900px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background-color: rgba(15, 52, 96, 0.7);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(76, 201, 240, 0.3);
        }
        
        .panel-title {
            color: #72efdd;
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(76, 201, 240, 0.5);
        }
        
        .input-area {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            color: #b8b8d1;
            font-weight: 600;
        }
        
        textarea, input[type="number"], input[type="text"] {
            width: 100%;
            padding: 15px;
            background-color: rgba(10, 25, 47, 0.8);
            border: 2px solid #4cc9f0;
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        textarea:focus, input:focus {
            outline: none;
            border-color: #72efdd;
            box-shadow: 0 0 10px rgba(114, 239, 221, 0.5);
        }
        
        textarea {
            min-height: 200px;
            resize: vertical;
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #4cc9f0;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        button {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .primary-btn {
            background: linear-gradient(135deg, #4361ee, #3a56d4);
            color: white;
        }
        
        .secondary-btn {
            background: linear-gradient(135deg, #f72585, #b5179e);
            color: white;
        }
        
        .success-btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .result-area {
            text-align: center;
            padding: 30px;
            background-color: rgba(10, 25, 47, 0.8);
            border-radius: 15px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px dashed #4cc9f0;
            transition: all 0.5s;
        }
        
        .winner-display {
            font-size: 2.5rem;
            color: #72efdd;
            margin-bottom: 20px;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .winner-name {
            font-size: 3rem;
            color: #f72585;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(247, 37, 133, 0.5);
            margin: 20px 0;
            padding: 15px;
            background-color: rgba(15, 52, 96, 0.5);
            border-radius: 10px;
            width: 100%;
        }
        
        .winner-info {
            font-size: 1.2rem;
            color: #b8b8d1;
            margin-top: 20px;
        }
        
        .history {
            margin-top: 30px;
            width: 100%;
        }
        
        .history-title {
            color: #4cc9f0;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .history-list {
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
            background-color: rgba(15, 52, 96, 0.3);
            border-radius: 10px;
        }
        
        .history-item {
            padding: 10px;
            border-bottom: 1px solid rgba(76, 201, 240, 0.2);
            color: #b8b8d1;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .counter {
            font-size: 1.5rem;
            color: #72efdd;
            margin: 20px 0;
        }
        
        .spinner {
            width: 80px;
            height: 80px;
            border: 8px solid rgba(76, 201, 240, 0.3);
            border-top: 8px solid #4cc9f0;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(76, 201, 240, 0.3);
            color: #b8b8d1;
            font-size: 0.9rem;
        }
        
        .hidden {
            display: none;
        }
        
        .pulse {
            animation: pulse 0.5s infinite alternate;
        }
        
        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }
        
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background-color: #f72585;
            top: 0;
            opacity: 0;
        }
        
        .social-stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background-color: rgba(10, 25, 47, 0.5);
            border-radius: 10px;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            color: #72efdd;
            font-weight: 700;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #b8b8d1;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéâ –í—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö üéâ</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ü—Å–µ—Ç—å, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–∏–º–µ–Ω–∞, –ª–æ–≥–∏–Ω—ã –∏–ª–∏ —Å—Å—ã–ª–∫–∏) –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∫–æ–Ω–∫—É—Ä—Å–∞, —Ä–æ–∑—ã–≥—Ä—ã—à–∞ –∏–ª–∏ –∞–∫—Ü–∏–∏!</p>
            
            <div class="social-icons">
                <div class="social-icon vk active" data-social="vk">VK</div>
                <div class="social-icon instagram" data-social="instagram">IG</div>
                <div class="social-icon telegram" data-social="telegram">TG</div>
                <div class="social-icon youtube" data-social="youtube">YT</div>
                <div class="social-icon facebook" data-social="facebook">FB</div>
                <div class="social-icon twitter" data-social="twitter">TW</div>
                <div class="social-icon tiktok" data-social="tiktok">TT</div>
            </div>
        </div>
        
        <div class="content">
            <div class="panel">
                <h2 class="panel-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è</h2>
                
                <div class="input-area">
                    <label for="participants">–£—á–∞—Å—Ç–Ω–∏–∫–∏ (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</label>
                    <textarea id="participants" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞, –ª–æ–≥–∏–Ω—ã –∏–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä:
@ivanov_ivan
–ü–µ—Ç—Ä –°–∏–¥–æ—Ä–æ–≤
https://vk.com/id123456
–ú–∞—Ä–∏—è –ö.
@annet_creative
–ê–ª–µ–∫—Å–∞–Ω–¥—Ä">@ivanov_ivan
–ü–µ—Ç—Ä –°–∏–¥–æ—Ä–æ–≤
https://vk.com/id123456
–ú–∞—Ä–∏—è –ö.
@annet_creative
–ê–ª–µ–∫—Å–∞–Ω–¥—Ä
user42
–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞
@maxim_travel
–û–ª—å–≥–∞ –í.
https://t.me/sergey_pro
@alex_dev
–ù–∞—Ç–∞–ª—å—è –ü–µ—Ç—Ä–æ–≤–∞
–î–º–∏—Ç—Ä–∏–π –ö–æ–≤–∞–ª–µ–≤
@artur_music
–°–≤–µ—Ç–ª–∞–Ω–∞ –§.
https://instagram.com/elena_style
@vladimir_sport</textarea>
                    
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="removeDuplicates" checked>
                            <label for="removeDuplicates">–£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="ignoreEmpty" checked>
                            <label for="ignoreEmpty">–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="shuffle" checked>
                            <label for="shuffle">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–æ–º</label>
                        </div>
                    </div>
                </div>
                
                <div class="input-area">
                    <label for="winnersCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π:</label>
                    <input type="number" id="winnersCount" value="1" min="1" max="20">
                    
                    <label for="prizeDescription">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–∑–∞ (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏):</label>
                    <input type="text" id="prizeDescription" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 15, 5000 —Ä—É–±., –≥–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞">
                </div>
                
                <div class="social-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalParticipants">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="uniqueParticipants">0</div>
                        <div class="stat-label">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="winnersToSelect">1</div>
                        <div class="stat-label">–ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–π</div>
                    </div>
                </div>
                
                <div class="buttons">
                    <button class="primary-btn" id="pickWinner">
                        <span>üé≤</span> –í—ã–±—Ä–∞—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
                    </button>
                    <button class="secondary-btn" id="clearList">
                        <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫
                    </button>
                </div>
                
                <div class="buttons">
                    <button class="success-btn" id="saveResults">
                        <span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    </button>
                    <button class="primary-btn" id="copyResults">
                        <span>üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫
                    </button>
                </div>
            </div>
            
            <div class="panel">
                <h2 class="panel-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–æ–∑—ã–≥—Ä—ã—à–∞</h2>
                
                <div class="result-area">
                    <div id="resultDisplay">
                        <div class="winner-display">–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</div>
                        <div id="winnerName" class="winner-name"></div>
                        <div id="winnerInfo" class="winner-info"></div>
                        
                        <div id="spinner" class="spinner hidden"></div>
                        
                        <div class="counter hidden" id="countdown">3</div>
                        
                        <div class="history">
                            <h3 class="history-title">–ò—Å—Ç–æ—Ä–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π</h3>
                            <div class="history-list" id="winnersHistory">
                                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —á–µ—Å—Ç–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö —Å–æ—Ü—Å–µ—Ç–µ–π | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞</p>
            <p>¬© 2023 –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π | –í–µ—Ä—Å–∏—è 2.0</p>
        </div>
    </div>

    <script>
        // –¢–µ–∫—É—â–∞—è –≤—ã–±—Ä–∞–Ω–Ω–∞—è —Å–æ—Ü—Å–µ—Ç—å
        let selectedSocial = 'vk';
        let winnersHistory = [];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            updateParticipantsCount();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫
            document.querySelectorAll('.social-icon').forEach(icon => {
                icon.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∏–∫–æ–Ω–æ–∫
                    document.querySelectorAll('.social-icon').forEach(i => {
                        i.classList.remove('active');
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–∫–æ–Ω–∫–µ
                    this.classList.add('active');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–æ—Ü—Å–µ—Ç—å
                    selectedSocial = this.getAttribute('data-social');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Ü—Å–µ—Ç–∏
                    updateSocialInfo();
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            document.getElementById('pickWinner').addEventListener('click', pickWinner);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–ø–∏—Å–∫–∞
            document.getElementById('clearList').addEventListener('click', function() {
                document.getElementById('participants').value = '';
                updateParticipantsCount();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('saveResults').addEventListener('click', saveResults);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞
            document.getElementById('copyResults').addEventListener('click', copyResults);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞
            document.getElementById('participants').addEventListener('input', updateParticipantsCount);
            document.getElementById('winnersCount').addEventListener('input', function() {
                document.getElementById('winnersToSelect').textContent = this.value;
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—á–µ—Ç—á–∏–∫ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
            document.getElementById('winnersToSelect').textContent = document.getElementById('winnersCount').value;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –∏–∑ localStorage
            loadHistory();
        });
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
        function updateParticipantsCount() {
            const textarea = document.getElementById('participants');
            const participantsText = textarea.value;
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            let participants = participantsText.split('\n');
            
            // –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            const ignoreEmpty = document.getElementById('ignoreEmpty').checked;
            if (ignoreEmpty) {
                participants = participants.filter(p => p.trim() !== '');
            }
            
            // –°—á–∏—Ç–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            let uniqueParticipants = [...participants];
            const removeDuplicates = document.getElementById('removeDuplicates').checked;
            if (removeDuplicates) {
                uniqueParticipants = [...new Set(participants.map(p => p.trim().toLowerCase()))];
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
            document.getElementById('totalParticipants').textContent = participants.length;
            document.getElementById('uniqueParticipants').textContent = uniqueParticipants.length;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å–æ—Ü—Å–µ—Ç–∏
        function updateSocialInfo() {
            const socialNames = {
                'vk': '–í–ö–æ–Ω—Ç–∞–∫—Ç–µ',
                'instagram': 'Instagram',
                'telegram': 'Telegram',
                'youtube': 'YouTube',
                'facebook': 'Facebook',
                'twitter': 'Twitter',
                'tiktok': 'TikTok'
            };
            
            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–π —Å–æ—Ü—Å–µ—Ç–∏
            console.log(`–í—ã–±—Ä–∞–Ω–∞ —Å–æ—Ü—Å–µ—Ç—å: ${socialNames[selectedSocial]}`);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
        function pickWinner() {
            const textarea = document.getElementById('participants');
            const participantsText = textarea.value;
            const winnersCount = parseInt(document.getElementById('winnersCount').value);
            const prizeDescription = document.getElementById('prizeDescription').value;
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            let participants = participantsText.split('\n');
            
            // –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            const ignoreEmpty = document.getElementById('ignoreEmpty').checked;
            if (ignoreEmpty) {
                participants = participants.filter(p => p.trim() !== '');
            }
            
            // –£–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            const removeDuplicates = document.getElementById('removeDuplicates').checked;
            if (removeDuplicates) {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä, –Ω–æ —É–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
                const seen = new Set();
                participants = participants.filter(p => {
                    const lower = p.trim().toLowerCase();
                    if (seen.has(lower)) {
                        return false;
                    }
                    seen.add(lower);
                    return true;
                });
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏
            if (participants.length === 0) {
                alert('–î–æ–±–∞–≤—å—Ç–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞!');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π –Ω–µ –±–æ–ª—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            if (winnersCount > participants.length) {
                alert(`–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π (${winnersCount}) –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (${participants.length})!`);
                return;
            }
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            const shuffle = document.getElementById('shuffle').checked;
            if (shuffle) {
                participants = shuffleArray([...participants]);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä –∏ —Å—á–µ—Ç—á–∏–∫
            const spinner = document.getElementById('spinner');
            const countdown = document.getElementById('countdown');
            const winnerName = document.getElementById('winnerName');
            const winnerInfo = document.getElementById('winnerInfo');
            
            spinner.classList.remove('hidden');
            countdown.classList.remove('hidden');
            winnerName.textContent = '';
            winnerInfo.textContent = '';
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
            let count = 60;
            countdown.textContent = count;
            
            const countdownInterval = setInterval(() => {
                count--;
                countdown.textContent = count;
                
                if (count <= 0) {
                    clearInterval(countdownInterval);
                    
                    // –°–∫—Ä—ã–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä –∏ —Å—á–µ—Ç—á–∏–∫
                    spinner.classList.add('hidden');
                    countdown.classList.add('hidden');
                    
                    // –í—ã–±–∏—Ä–∞–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
                    let winners = [];
                    let availableParticipants = [...participants];
                    
                    for (let i = 0; i < winnersCount; i++) {
                        const randomIndex = Math.floor(Math.random() * availableParticipants.length);
                        winners.push(availableParticipants[randomIndex]);
                        availableParticipants.splice(randomIndex, 1);
                    }
                    
                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
                    if (winnersCount === 1) {
                        winnerName.textContent = winners[0];
                        winnerInfo.textContent = `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è! ${prizeDescription ? `–ü—Ä–∏–∑: ${prizeDescription}` : ''}`;
                    } else {
                        winnerName.textContent = `${winnersCount} –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π!`;
                        winnerInfo.innerHTML = `<strong>–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏:</strong><br>${winners.map((w, i) => `${i+1}. ${w}`).join('<br>')}`;
                        
                        if (prizeDescription) {
                            winnerInfo.innerHTML += `<br><br><strong>–ü—Ä–∏–∑:</strong> ${prizeDescription}`;
                        }
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                    winnerName.classList.add('pulse');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                    createConfetti();
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                    const socialNames = {
                        'vk': '–í–ö–æ–Ω—Ç–∞–∫—Ç–µ',
                        'instagram': 'Instagram',
                        'telegram': 'Telegram',
                        'youtube': 'YouTube',
                        'facebook': 'Facebook',
                        'twitter': 'Twitter',
                        'tiktok': 'TikTok'
                    };
                    
                    const historyEntry = {
                        date: new Date().toLocaleString('ru-RU'),
                        social: socialNames[selectedSocial],
                        winners: winners,
                        prize: prizeDescription,
                        totalParticipants: participants.length
                    };
                    
                    winnersHistory.unshift(historyEntry);
                    updateWinnersHistory();
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –≤ localStorage
                    saveHistory();
                    
                    // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—É–ª—å—Å–∞—Ü–∏—é —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(() => {
                        winnerName.classList.remove('pulse');
                    }, 3000);
                }
            }, 800);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ (–∞–ª–≥–æ—Ä–∏—Ç–º –§–∏—à–µ—Ä–∞-–ô–µ—Ç—Å–∞)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        function createConfetti() {
            const colors = ['#f72585', '#4cc9f0', '#72efdd', '#4361ee', '#f8961e'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.opacity = '1';
                
                document.body.appendChild(confetti);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 2000 + Math.random() * 2000,
                    easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                });
                
                // –£–¥–∞–ª—è–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
        function updateWinnersHistory() {
            const historyList = document.getElementById('winnersHistory');
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 10 –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏
            const recentHistory = winnersHistory.slice(0, 10);
            
            if (recentHistory.length === 0) {
                historyList.innerHTML = '<div class="history-item">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</div>';
                return;
            }
            
            let html = '';
            recentHistory.forEach((entry, index) => {
                const winnersText = entry.winners.length === 1 
                    ? entry.winners[0] 
                    : `${entry.winners.length} –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π`;
                
                html += `
                    <div class="history-item">
                        <strong>${entry.date}</strong><br>
                        ${entry.social} | ${winnersText}<br>
                        ${entry.prize ? `–ü—Ä–∏–∑: ${entry.prize}` : ''}
                        ${entry.totalParticipants ? ` | –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: ${entry.totalParticipants}` : ''}
                    </div>
                `;
            });
            
            historyList.innerHTML = html;
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤ localStorage
        function saveHistory() {
            try {
                localStorage.setItem('winnersHistory', JSON.stringify(winnersHistory));
            } catch (e) {
                console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é:', e);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ localStorage
        function loadHistory() {
            try {
                const savedHistory = localStorage.getItem('winnersHistory');
                if (savedHistory) {
                    winnersHistory = JSON.parse(savedHistory);
                    updateWinnersHistory();
                }
            } catch (e) {
                console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é:', e);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function saveResults() {
            if (winnersHistory.length === 0) {
                alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è!');
                return;
            }
            
            const latestWinner = winnersHistory[0];
            const textToSave = `
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–æ–∑—ã–≥—Ä—ã—à–∞ –≤ ${latestWinner.social}
–î–∞—Ç–∞: ${latestWinner.date}
–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: ${latestWinner.totalParticipants}
${latestWinner.winners.length === 1 ? '–ü–æ–±–µ–¥–∏—Ç–µ–ª—å:' : '–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏:'}
${latestWinner.winners.map((w, i) => `${i+1}. ${w}`).join('\n')}
${latestWinner.prize ? `–ü—Ä–∏–∑: ${latestWinner.prize}` : ''}
---
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
            `.trim();
            
            const blob = new Blob([textToSave], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `–ø–æ–±–µ–¥–∏—Ç–µ–ª—å_${latestWinner.social}_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
        function copyResults() {
            const textarea = document.getElementById('participants');
            textarea.select();
            textarea.setSelectionRange(0, 99999); // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    // –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞
                    const originalText = document.getElementById('copyResults').innerHTML;
                    document.getElementById('copyResults').innerHTML = '<span>‚úì</span> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    
                    setTimeout(() => {
                        document.getElementById('copyResults').innerHTML = originalText;
                    }, 2000);
                }
            } catch (err) {
                console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç:', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é.');
            }
        }
    </script>
</body>
</html>
